enum DataLocation {
  ONCHAIN
  ARWEAVE
  IPFS
  CUSTOM
}

type Schema @entity(immutable: true) {
  id: String!
  tx: Bytes!
  registrant: Bytes!
  revocable: Boolean!
  dataLocation: DataLocation!
  maxValidFor: BigInt!
  resolver: Bytes!
  schema: String!
  registerTimestamp: BigInt!
  numberOfAttestations: Int!
  metadataLocation: DataLocation!
  metadataURI: String
}

type Attestation @entity {
  id: String!
  tx: Bytes!
  schema: Schema!
  linkedAttestation: Attestation
  attester: Bytes!
  attestTimestamp: BigInt!
  data: String!
  validUntil: BigInt!
  recipients: [Bytes!]!
  revoked: Boolean
  revokeTimestamp: BigInt
  revokeReason: String
  revokeTx: Bytes
}

type OffchainAttestation @entity {
  id: String!
  tx: Bytes!
  attestTimestamp: BigInt!
  revoked: Boolean
  revokeTimestamp: BigInt
  revokeReason: String
  revokeTx: Bytes
}

type User @entity {
  id: Bytes!
  attestations: [Attestation!]!
  attestationRecipient: [Attestation!]!
  schemas: [Schema!]!
  numberOfAttestations: Int!
  numberOfAttestationRecipient: Int!
  numberOfSchemas: Int!
}
