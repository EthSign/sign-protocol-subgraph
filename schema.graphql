enum DataLocation {
  ONCHAIN
  ARWEAVE
  IPFS
  CUSTOM
}

type Schema @entity(immutable: true) {
  id: String!
  transactionHash: Bytes!
  registrant: Bytes!
  revocable: Boolean!
  schemaDataLocation: DataLocation!
  attestationDataLocation: DataLocation!
  maxValidFor: BigInt!
  resolver: Bytes!
  data: String!
  registerTimestamp: BigInt!
  numberOfAttestations: Int!
}

type Attestation @entity {
  id: String!
  transactionHash: Bytes!
  schema: Schema!
  linkedAttestation: Attestation
  attester: Bytes!
  attestTimestamp: BigInt!
  data: Bytes!
  validUntil: BigInt!
  revoked: Boolean
  revokeTimestamp: BigInt
  revokeReason: String
  revokeTransactionHash: Bytes
}

type AttestationRecipient @entity(immutable: true) {
  id: String!
  attestationId: Attestation!
  recipient: Bytes!
}

type OffchainAttestation @entity {
  id: String!
  transactionHash: Bytes!
  attestTimestamp: BigInt!
  revoked: Boolean
  revokeTimestamp: BigInt
  revokeReason: String
  revokeTransactionHash: Bytes
}

type User @entity {
  id: Bytes!
  attestations: [Attestation!]!
  attestationRecipient: [Attestation!]!
  schemas: [Schema!]!
  numberOfAttestations: Int!
  numberOfAttestationRecipient: Int!
  numberOfSchemas: Int!
}
